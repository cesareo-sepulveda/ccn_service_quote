<odoo>
  <data>
    <record id="view_ccn_service_quote_form_site_fix" model="ir.ui.view">
      <field name="name">ccn.service.quote.form.site.fix</field>
      <field name="model">ccn.service.quote</field>
      <!-- ⚠️ Sustituye por el XMLID real de tu vista base -->
      <field name="inherit_id" ref="ccn_service_quote.ccn_view_quote_form"/>
      <field name="arch" type="xml">
        <!-- A) opción 'attributes': borra options/readonly y agrega context -->
        <xpath expr="//field[@name='current_site_id']" position="attributes">
          <attribute name="options"/>
          <attribute name="readonly"/>
          <attribute name="context">{'default_quote_id': id}</attribute>
        </xpath>
        <!-- B) Si prefieres, reemplaza el nodo completo:
        <xpath expr=\"//field[@name='current_site_id']\" position=\"replace\">
          <field name=\"current_site_id\"
                 domain=\"[('quote_id','=', id)]\"
                 context=\"{'default_quote_id': id}\"/>
        </xpath>
        -->
      </field>
    </record>
  </data>
</odoo>
